import{g as get_store_value,w as writable$1}from"./svelte@3.53.1.js";var stores={};function writable(e,t,s){const r="undefined"!=typeof localStorage&&"undefined"!=typeof window,o=(null==s?void 0:s.serializer)||JSON;function n(e,t){r&&localStorage.setItem(e,o.stringify(t))}if(!stores[e]){const s=writable$1(t,(t=>{const s=r?localStorage.getItem(e):null;if(s&&t(o.parse(s)),r){const s=s=>{s.key===e&&t(s.newValue?o.parse(s.newValue):null)};return window.addEventListener("storage",s),()=>window.removeEventListener("storage",s)}})),{subscribe:a,set:i}=s;stores[e]={set(t){n(e,t),i(t)},update(t){const r=t(get_store_value(s));n(e,r),i(r)},subscribe:a}}return stores[e]}export{writable as w};